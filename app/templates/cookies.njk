{% from "notification-banner/macro.njk" import govukNotificationBanner %}


{% extends "buying-for-schools.njk" %}

{# Adds a class to increase vertical spacing for pages without a back button #}
{% set mainClasses = "govuk-main-wrapper--l" %}

{% block content %}


<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <span class="govuk-caption-l">{{ locals.serviceName }}</span>
    <h1 class="govuk-heading-l">Change your cookie settings</h1>
    <div class="enable-js">
        <p class="govuk-body">We cannot change your cookie settings at the moment because JavaScript is not running in your browser. To fix this, try:</p>
        <ul class="govuk-list govuk-list--bullet">
            <li>turning on JavaScript in your browser settings</li>
            <li>reloading this page</li>
        </ul>
    </div>

    <p class="govuk-body">Cookies are files saved on your phone, tablet or computer when you visit a website.</p>
    <p class="govuk-body">We use cookies to store information about how you use the GOV.UK website, such as the pages you visit.</p>
    
    {% set cookieHtml %}
        <p class="govuk-body govuk-hint">
            We use Google Analytics to measure how you use the website so we can improve it based on user needs.
            We do not allow Google to use or share the data about how you use this site.
        </p>
        <p class="govuk-body govuk-hint">Google Analytics sets cookies that store anonymised information about:</p>
        <ul class="govuk-list govuk-list--bullet govuk-hint">
            <li>how you got to the site</li>
            <li>the pages you visit on GOV.UK and government digital services, and how long you spend on each page</li>
            <li>what you click on while you're visiting the site</li>
        </ul>
    {% endset %}
   
    <div class="conditionally-hidden">
        <div class="js-cookie-choices">
            {{ govukRadios({
                idPrefix: "analytics-cookies",
                name: "analytics-cookies",
                fieldset: {
                    legend: {
                        text: "Cookies that measure website use",
                        classes: "govuk-fieldset__legend--m"
                    }
                },
                hint: {
                    html: cookieHtml
                },
                items: [
                {
                    value: "yes",
                    text: "Yes"
                },
                {
                    value: "no",
                    text: "No",
                    checked: true
                }
                ]
            }) }}

            <p class="govuk-body">
                <a href="/cookie-details" class="govuk-link">
                    Find out more about cookies on {{ locals.serviceName }}
                </a>
            </p>

            {{ govukButton({
                classes: 'js-save-cookie-settings',
                text: "Save cookie settings"
            }) }}
        </div>

        

        <div class="js-cookie-success">
            <p class="govuk-body">
                <a href="/cookie-details" class="govuk-link">
                    Find out more about cookies on {{ locals.serviceName }}
                </a>
            </p>

            {% set successHtml %}
                <p class="govuk-notification-banner__heading">
                    Youâ€™ve set your cookie preferences. <a class="govuk-notification-banner__link js-back-link" href="/">Go back to the page you were looking at</a>.
                </p>
            {% endset %}

            {{ govukNotificationBanner({
                type: "success",
                html: successHtml
            }) }}
        </div>
    </div>
  </div>
</div>
{% endblock %}
